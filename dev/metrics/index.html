<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Metrics · ADRIAIndicators</title><meta name="title" content="Metrics · ADRIAIndicators"/><meta property="og:title" content="Metrics · ADRIAIndicators"/><meta property="twitter:title" content="Metrics · ADRIAIndicators"/><meta name="description" content="Documentation for ADRIAIndicators."/><meta property="og:description" content="Documentation for ADRIAIndicators."/><meta property="twitter:description" content="Documentation for ADRIAIndicators."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ADRIAIndicators</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">ADRIAIndicators.jl</a></li><li><span class="tocitem">API</span><ul><li class="is-active"><a class="tocitem" href>Metrics</a></li><li><a class="tocitem" href="../cover_metrics/">Cover Metrics</a></li><li><a class="tocitem" href="../juvenile_metrics/">Juvenile Metrics</a></li><li><a class="tocitem" href="../indices/">Reef Indices</a></li><li><a class="tocitem" href="../conversions/">Conversions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>Metrics</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Metrics</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/open-AIMS/ADRIAIndicators.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/open-AIMS/ADRIAIndicators.jl/blob/main/docs/src/metrics.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Metrics"><a class="docs-heading-anchor" href="#Metrics">Metrics</a><a id="Metrics-1"></a><a class="docs-heading-anchor-permalink" href="#Metrics" title="Permalink"></a></h1><p>This section provides general metrics that are not specific to a particular group or life stage.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIAIndicators._colony_Lcm2_to_m3m2-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:AbstractFloat" href="#ADRIAIndicators._colony_Lcm2_to_m3m2-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:AbstractFloat"><code>ADRIAIndicators._colony_Lcm2_to_m3m2</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_colony_Lcm2_to_m3m2(colony_mean_diams_cm::Array{T,2}, colony_)::Tuple</code></pre><p>Helper function to convert coral colony values from Litres/cm² to m³/m²</p><p><strong>Arguments</strong></p><ul><li><code>colony_mean_diams_cm</code> : Matrix of mean colony diameters</li><li><code>planar_area_int</code> : planar area model intercept</li><li><code>planar_area_coef</code> : planar area model coefficient</li></ul><p><strong>Returns</strong></p><p>Tuple : Assumed colony volume (m³/m²) for each species/size class</p><p><strong>References</strong></p><ol><li>Aston Eoghan A., Duce Stephanie, Hoey Andrew S., Ferrari Renata (2022).  A Protocol for Extracting Structural Metrics From 3D Reconstructions of Corals.  Frontiers in Marine Science, 9.  https://doi.org/10.3389/fmars.2022.854395</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIAIndicators.jl/blob/be549c255be353f5a10648eaaaf3b06791911865/src/metrics.jl#L159-L178">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIAIndicators._dimension_mismatch_message-Tuple{String, String, Tuple, Tuple}" href="#ADRIAIndicators._dimension_mismatch_message-Tuple{String, String, Tuple, Tuple}"><code>ADRIAIndicators._dimension_mismatch_message</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_dimension_mismatch_message(array_name_1::String, array_name_2::String, dims1::Tuple, dims2::Tuple)::String</code></pre><p>Construct an informative error message when a discrepancy between array dimensions is detected.</p><p><strong>Arguments</strong></p><ul><li><code>array_name_1</code> : Name of the first array.</li><li><code>array_name_2</code> : Name of the second array.</li><li><code>dims1</code> : Shape of the first array.</li><li><code>dims2</code> : Shape of the second array.</li></ul><p><strong>Returns</strong></p><p>String containing an informative error message.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIAIndicators.jl/blob/be549c255be353f5a10648eaaaf3b06791911865/src/metrics.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIAIndicators.absolute_shelter_volume!-Union{Tuple{T}, Tuple{AbstractArray{T, 4}, AbstractMatrix{T}, AbstractArray{T, 3}, AbstractVector{T}, AbstractArray{T, 4}}} where T&lt;:AbstractFloat" href="#ADRIAIndicators.absolute_shelter_volume!-Union{Tuple{T}, Tuple{AbstractArray{T, 4}, AbstractMatrix{T}, AbstractArray{T, 3}, AbstractVector{T}, AbstractArray{T, 4}}} where T&lt;:AbstractFloat"><code>ADRIAIndicators.absolute_shelter_volume!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">absolute_shelter_volume!(rel_cover::AbstractArray{T,3}, colony_mean_diam_cm::AbstractArray{T,2}, planar_area_params::AbstractArray{T,3}, habitable_area::T, ASV::AbstractArray{T,3})::Nothing where {T&lt;:AbstractFloat}</code></pre><p><strong>Arguments</strong></p><ul><li><code>rel_cover</code> : 4-D Array of relative coral cover with dimensions [timesteps ⋅ groups ⋅ size ⋅ locations]</li><li><code>colony_mean_diam_cm</code> : Matrix of mean colony diameter with dimensions [groups ⋅ size]</li><li><code>planar_area_params</code> : 3-D array of planar area parameters with dimensions [groups ⋅ size ⋅ (intercept, coefficient)]</li><li><code>habitable_area_m2</code> : Vector of habitable area for each location [locations]</li><li><code>out_ASV</code> : Output array buffer for absolute shelter volume [timesteps ⋅ groups ⋅ size ⋅ locations]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIAIndicators.jl/blob/be549c255be353f5a10648eaaaf3b06791911865/src/metrics.jl#L193-L202">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIAIndicators.absolute_shelter_volume-Union{Tuple{T}, Tuple{AbstractArray{T, 4}, AbstractMatrix{T}, AbstractArray{T, 3}, AbstractVector{T}}} where T&lt;:AbstractFloat" href="#ADRIAIndicators.absolute_shelter_volume-Union{Tuple{T}, Tuple{AbstractArray{T, 4}, AbstractMatrix{T}, AbstractArray{T, 3}, AbstractVector{T}}} where T&lt;:AbstractFloat"><code>ADRIAIndicators.absolute_shelter_volume</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">absolute_shelter_volume(rel_cover::AbstractArray{T,4}, colony_mean_area_cm::AbstractArray{T,2}, planar_area_params::AbstractArray{T,3}, habitable_area::AbstractVector{T})::AbstractArray{T,4} where {T&lt;:AbstractFloat}</code></pre><p>Calculate the volume of shelter provided by the given coral cover. This function uses log-log linear models to predict the volume of shelter provided from a given planar area. The parametrisation of this log-log linear model must be provided by the user. The log-log linear model is given by</p><p class="math-container">\[\begin{align*}
    \log(S) = b + a\log(PA),
\end{align*}\]</p><p>where <span>$S$</span> and <span>$PA$</span> are shelter volume (<span>$m^3m_{-2}$</span>) and planar area, respectively. Then absolute shelter volume is given by</p><p class="math-container">\[\begin{align*}
    ASV = A_C \cdot S,
\end{align*}\]</p><p>where <span>$ASV$</span> and <span>$A_C$</span> refers to absolute shelter volume and absolute coral cover, respectively.</p><p><strong>Arguments</strong></p><ul><li><code>rel_cover</code> : 4-D Array of relative coral cover with dimensions [timesteps ⋅ groups ⋅ size ⋅ locations]</li><li><code>colony_mean_area_cm</code> : Matrix of mean colony diameter with dimensions [groups ⋅ size]</li><li><code>planar_area_params</code> : 3-D array of planar area params with dimensions [groups ⋅ size ⋅ (intercept, coefficient)]</li><li><code>habitable_area_m2</code> : Vector of habitable area for each location [locations]</li></ul><p><strong>Returns</strong></p><ul><li>Output array containing absolute shelter volume [timesteps ⋅ groups ⋅ size ⋅ locations]</li></ul><p><strong>References</strong></p><ol><li>Urbina-Barreto, I., Chiroleu, F., Pinel, R., Fréchon, L., Mahamadaly, V.,   Elise, S., Kulbicki, M., Quod, J.-P., Dutrieux, E., Garnier, R.,   Henrich Bruggemann, J., Penin, L., &amp; Adjeroud, M. (2021). Quantifying the shelter capacity of coral reefs using photogrammetric   3D modeling: From colonies to reefscapes. Ecological Indicators, 121, 107151. https://doi.org/10.1016/j.ecolind.2020.107151</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIAIndicators.jl/blob/be549c255be353f5a10648eaaaf3b06791911865/src/metrics.jl#L223-L264">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIAIndicators.coral_diversity!-Union{Tuple{T}, Tuple{Array{T, 3}, Matrix{T}}} where T&lt;:Real" href="#ADRIAIndicators.coral_diversity!-Union{Tuple{T}, Tuple{Array{T, 3}, Matrix{T}}} where T&lt;:Real"><code>ADRIAIndicators.coral_diversity!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">coral_diversity(r_taxa_cover::Array{T, 3}, out_coral_diversity::Array{T,2})::Nothing where {T&lt;:Real}</code></pre><p>Calculates coral taxa diversity as a dimensionless metric.</p><p><strong>Arguments</strong></p><ul><li><code>rel_cover</code> : Relative Taxa Cover of dimensions [timesteps ⋅ groups ⋅ locations]</li><li><code>out_coral_diversity</code> : Output array buffer [timesteps ⋅ locations]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIAIndicators.jl/blob/be549c255be353f5a10648eaaaf3b06791911865/src/metrics.jl#L28-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIAIndicators.coral_diversity-Union{Tuple{Array{T, 3}}, Tuple{T}} where T&lt;:Real" href="#ADRIAIndicators.coral_diversity-Union{Tuple{Array{T, 3}}, Tuple{T}} where T&lt;:Real"><code>ADRIAIndicators.coral_diversity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">coral_diversity(rel_cover::Array{T, 3})::Array{T,2} where {T&lt;:Real}</code></pre><p>Calculates coral taxa diversity as a dimensionless metric. Derived from the Simpson&#39;s Diversity Index.</p><p>Formulated as part of a reef condition index by Dr Mike Williams (mjmcwilliam@outlook.com) and Dr Morgan Pratchett (morgan.pratchett@jcu.edu.au).</p><p>The coral diversity metric (<span>$D$</span>) for a given location and timestep is given as</p><p class="math-container">\[\begin{align*}
D(x) = 1 - \sum_{g=1}^{G} (\frac{x_g}{x_T})^2,
\end{align*}\]</p><p>where <span>$x_g$</span> is the relative coral cover for the functional group, <span>$g$</span>, and <span>$x_T$</span> is total relative coral cover at the given location and timestep.</p><p><strong>Arguments</strong></p><ul><li><code>rel_cover</code> : Relative Taxa Cover of dimensions [timesteps ⋅ groups ⋅ locations]</li></ul><p><strong>Returns</strong></p><p>Matrix containing coral diversity metric of dimension [timesteps ⋅ locations]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIAIndicators.jl/blob/be549c255be353f5a10648eaaaf3b06791911865/src/metrics.jl#L55-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIAIndicators.coral_evenness!-Union{Tuple{T}, Tuple{AbstractArray{T, 3}, Matrix{T}}} where T&lt;:Real" href="#ADRIAIndicators.coral_evenness!-Union{Tuple{T}, Tuple{AbstractArray{T, 3}, Matrix{T}}} where T&lt;:Real"><code>ADRIAIndicators.coral_evenness!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">coral_evenness!(r_taxa_cover::AbstractArray{T,3}, out_coral_evenness::Array{T,2})::Nothing where {T&lt;:Real}</code></pre><p>Calculates evenness across functional coral groups in ADRIA as a diversity metric. Inverse Simpsons diversity indicator.</p><p><strong>Arguments</strong></p><ul><li><code>rel_cover</code> : Relative Taxa Cover of dimensions [timesteps ⋅ groups ⋅ locations]</li><li><code>out_coral_evenness</code> : Output array buffer [timesteps ⋅ locations]</li></ul><p><strong>References</strong></p><ol><li>Hill, M. O. (1973).</li></ol><p>Diversity and Evenness: A Unifying Notation and Its Consequences. Ecology, 54(2), 427-432. https://doi.org/10.2307/1934352</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIAIndicators.jl/blob/be549c255be353f5a10648eaaaf3b06791911865/src/metrics.jl#L88-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIAIndicators.coral_evenness-Union{Tuple{Array{T, 3}}, Tuple{T}} where T&lt;:Real" href="#ADRIAIndicators.coral_evenness-Union{Tuple{Array{T, 3}}, Tuple{T}} where T&lt;:Real"><code>ADRIAIndicators.coral_evenness</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">coral_evenness(r_taxa_cover::AbstractArray{T})::AbstractArray{T} where {T&lt;:Real}</code></pre><p>Calculates evenness across functional coral groups in ADRIA as a diversity metric. Inverse Simpsons diversity indicator.</p><p>The coral evenness metric (E) is given as follows,</p><p class="math-container">\[\begin{align*}
E(x) = \left(\sum_{g=1}^{G}\left(\frac{x_g}{x_T} \right)^2\right)^{-1}
\end{align*}\]</p><p><strong>Arguments</strong></p><ul><li><code>rel_cover</code> : Relative Taxa Cover of dimensions [timesteps ⋅ groups ⋅ locations]</li></ul><p><strong>Returns</strong></p><p>Matrix containing coral evenness metric of dimensions [timesteps ⋅ locations]</p><p><strong>References</strong></p><ol><li>Hill, M. O. (1973).</li></ol><p>Diversity and Evenness: A Unifying Notation and Its Consequences. Ecology, 54(2), 427-432. https://doi.org/10.2307/1934352</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIAIndicators.jl/blob/be549c255be353f5a10648eaaaf3b06791911865/src/metrics.jl#L125-L150">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIAIndicators.relative_shelter_volume!-Union{Tuple{T}, Tuple{AbstractArray{T, 4}, AbstractMatrix{T}, AbstractArray{T, 3}, AbstractVector{T}, AbstractArray{T, 4}}} where T&lt;:AbstractFloat" href="#ADRIAIndicators.relative_shelter_volume!-Union{Tuple{T}, Tuple{AbstractArray{T, 4}, AbstractMatrix{T}, AbstractArray{T, 3}, AbstractVector{T}, AbstractArray{T, 4}}} where T&lt;:AbstractFloat"><code>ADRIAIndicators.relative_shelter_volume!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">relative_shelter_volume!(rel_cover::AbstractArray{T,4}, colony_mean_diam_cm::AbstractArray{T,2}, planar_area_params::AbstractArray{T,3}, habitable_area_m²::AbstractVector{T}, out_RSV::AbstractArray{T,4})::Nothing where {T&lt;:AbstractFloat}</code></pre><p>Calculate the relative shelter volume for a range of covers. Relative to the theoretical maximum of 50% cover of a coral species with the largest colony volume. Relative shelter volume (RSV) is given by</p><p class="math-container">\[\begin{align*}
    \text{RSV}(x) = rac{ASV(x)}{MSV(x)},
\end{align*}\]</p><p>where ASV and MSV are Absolute Shelter Volume and Maximum Shelter Volume respectively.</p><p><strong>Arguments</strong></p><ul><li><code>rel_cover</code> : Relative Cover array with dimensions [timesteps ⋅ groups ⋅ sizes ⋅ locations].</li><li><code>colony_mean_diam_cm</code> : Mean colony diameter per group and size class with dimensions [groups ⋅ sizes].</li><li><code>planar_area_params</code> : Array containing the planar area parameters with dimensions [groups ⋅ sizes ⋅ (intercept, coefficient)].</li><li><code>habitable_area_m²</code> : Habitable area in m² with dimensions [locations].</li><li><code>out_RSV</code> : Output Relative shelter volume array buffer with dimensions [timesteps ⋅ groups ⋅ sizes ⋅ locations].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIAIndicators.jl/blob/be549c255be353f5a10648eaaaf3b06791911865/src/metrics.jl#L279-L300">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIAIndicators.relative_shelter_volume-Union{Tuple{T}, Tuple{AbstractArray{T, 4}, AbstractMatrix{T}, AbstractArray{T, 3}, AbstractVector{T}}} where T&lt;:Real" href="#ADRIAIndicators.relative_shelter_volume-Union{Tuple{T}, Tuple{AbstractArray{T, 4}, AbstractMatrix{T}, AbstractArray{T, 3}, AbstractVector{T}}} where T&lt;:Real"><code>ADRIAIndicators.relative_shelter_volume</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">relative_shelter_volume(relative_cover::AbstractArray{T,4}, colony_mean_diam_cm::AbstractArray{T,2}, planar_area_params::AbstractArray{T,3}, habitable_area_m²::AbstractVector{T})::AbstractArray{T,4} where {T&lt;:Real}</code></pre><p>Calculate the relative shelter volume for a range of covers. Relative shelter volume (RSV) is given by</p><p class="math-container">\[\begin{align*}
    \text{RSV}(x) = \frac{ASV(x)}{MSV(x)},
\end{align*}\]</p><p>where ASV and MSV are Absolute Shelter Volume and Maximum Shelter Volume respectively. Previously, the maximum shelter volume has been defined by assuming the maximum theoretical shelter volume produced by the largest size class of Tabular Acropora. This function defines it by calculating the shelter volume for each functional group and size class and picking the maximum.</p><p><strong>Arguments</strong></p><ul><li><code>rel_cover</code> : Relative Cover array with dimensions [timesteps ⋅ groups ⋅ sizes ⋅ locations].</li><li><code>colony_mean_diam_cm</code> : Mean colony area per group and size class with dimensions [groups ⋅ sizes].</li><li><code>planar_area_params</code> : Array containing the planar area parameters with dimensions [groups ⋅ sizes ⋅ (intercept, coefficient)].</li><li><code>habitable_area_m²</code> : Habitable area in m² with dimensions [locations].</li></ul><p><strong>Returns</strong></p><p>Relative shelter volume in an array with dimensions [timesteps ⋅ groups ⋅ sizes ⋅ locations]</p><p><strong>References</strong></p><ol><li>Urbina-Barreto, I., Chiroleu, F., Pinel, R., Fréchon, L., Mahamadaly, V.,   Elise, S., Kulbicki, M., Quod, J.-P., Dutrieux, E., Garnier, R.,   Henrich Bruggemann, J., Penin, L., &amp; Adjeroud, M. (2021). Quantifying the shelter capacity of coral reefs using photogrammetric   3D modeling: From colonies to reefscapes. Ecological Indicators, 121, 107151. https://doi.org/10.1016/j.ecolind.2020.107151</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIAIndicators.jl/blob/be549c255be353f5a10648eaaaf3b06791911865/src/metrics.jl#L328-L363">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ADRIAIndicators.scenario_metric-Union{Tuple{T}, Tuple{AbstractArray{T}, AbstractVector{T}, Int64}} where T&lt;:AbstractFloat" href="#ADRIAIndicators.scenario_metric-Union{Tuple{T}, Tuple{AbstractArray{T}, AbstractVector{T}, Int64}} where T&lt;:AbstractFloat"><code>ADRIAIndicators.scenario_metric</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scenario_metric(metric::AbstractArray{T}, location_area::AbstractVector{T}, location_dim::Int; is_relative::Bool=true, return_relative::Bool=true)::AbstractArray{T} where {T&lt;:AbstractFloat}</code></pre><p>Aggregate a metric across the location dimension.</p><p>This function can take a metric that is either relative to location area or absolute, and can return a metric that is either relative to the total area or absolute.</p><p><strong>Arguments</strong></p><ul><li><code>metric</code> : An array containing the metric to aggregate.</li><li><code>location_area</code> : A vector of area values for each location.</li><li><code>location_dim</code> : The dimension of the <code>metric</code> array that corresponds to location.</li><li><code>is_relative</code> : Whether the input <code>metric</code> is relative to location area. Defaults to <code>true</code>.</li><li><code>return_relative</code> : Whether the output should be relative to total area. Defaults to <code>true</code>.</li></ul><p><strong>Returns</strong></p><p>An array with the location dimension removed, containing the aggregated metric.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/open-AIMS/ADRIAIndicators.jl/blob/be549c255be353f5a10648eaaaf3b06791911865/src/metrics.jl#L417-L434">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« ADRIAIndicators.jl</a><a class="docs-footer-nextpage" href="../cover_metrics/">Cover Metrics »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 8 October 2025 04:00">Wednesday 8 October 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
